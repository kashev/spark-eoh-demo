<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>HKN EOH 2015 Spark Demo</title>

  <!-- ratchet meta -->
  <!-- Sets initial viewport load and disables zooming  -->
  <meta name="viewport" content="initial-scale=1, maximum-scale=1">

  <!-- Makes your prototype chrome-less once bookmarked to your phone's home screen -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">


  <!-- styles -->
  <link rel="stylesheet" href="ratchet/css/ratchet.min.css">
  <link rel="stylesheet" href="ratchet/css/ratchet-theme-ios.min.css">

  <!-- spark eoh demo -->
  <link rel="stylesheet" type="text/css" href="css/spark.css">
  <link rel="icon"
        type="image/ico"
        href="img/favicon.ico?version=newest">

  <!-- js -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
  <script src="https://cdn.firebase.com/js/client/2.2.2/firebase.js"></script>
  <script src="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>

  <script src="ratchet/js/ratchet.min.js"></script>

  <!-- TODO: Remove jQuery dependency, get Angular $http working. -->
  <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>

  <!-- spark eoh demo -->
  <script src="js/spark.js"></script>

</head>
<body ng-app="sparkEohDemo">

  <header class="bar bar-nav">
    <h1 class="title">Spark EOH Demo</h1>
    <a href="index.html"
       data-ignore="push"
       class="icon icon-left pull-left">
    </a>
    <a href="#instructionsModal" class="icon icon-info pull-right"></a>
  </header>

  <div class="content">

    <div ng-controller="sparkController" id="spark">
      <table>
        <tr>
          <td class="led-col" ng-style="{'height':table_row_height}"></td>
          <td class="spark-col" rowspan="{{total_rows}}">
            <img id="spark-img" src="img/spark.png" alt="The Spark Core">
          </td>
          <td class="led-col" ng-style="{'height':table_row_height}"></td>
        </tr>

        <tr ng-repeat="i in getNumber(number_top_spacers) track by $index">
          <td class="led-col" ng-style="{'height':table_row_height}"></td>
          <td class="led-col" ng-style="{'height':table_row_height}"></td>
        </tr>

        <tr ng-repeat="i in getNumber(number_leds) track by $index">
          <td class="led-col" ng-style="{'height':table_row_height}">
            <div class="led"
                 ng-class="{
                              white : data.a{{ledNumber($index)}} && $even,
                              blue  : data.a{{ledNumber($index)}} && $odd,
                              off  : !data.a{{ledNumber($index)}}
                            }"
                 ng-click="toggleLed('a' + ledNumber($index))">
            </div>
          </td>
          <td class="led-col" ng-style="{'height':table_row_height}">
            <div class="led"
                 ng-class="{
                              white : data.d{{ledNumber($index)}} && $even,
                              red   : data.d{{ledNumber($index)}} && $odd,
                              off  : !data.d{{ledNumber($index)}}
                            }"
                 ng-click="toggleLed('d' + ledNumber($index))">
            </div>
          </td>
        </tr>

        <tr ng-repeat="i in getNumber(number_bottom_spacers) track by $index">
          <td class="led-col" ng-style="{'height':table_row_height}"></td>
          <td class="led-col" ng-style="{'height':table_row_height}"></td>
        </tr>

      </table>
    </div>
  </div>

  <!-- Instructions Modal -->
  <div id="instructionsModal" class="modal">
    <header class="bar bar-nav">
      <a class="icon icon-close pull-right" href="#instructionsModal"></a>
      <h1 class="title">Instructions</h1>
    </header>

    <div class="content">
      <p class="content-padded">Press the LEDs on this website to make them turn on and off both on other people's phones, but also on the physical Spark microcontroller!</p>
      <p class="content-padded">This exhibit demonstrates the full capabilities of a computing system that a computer engineer might make. It involves some hardware and some software. Making software which can interact in meaningful ways with the real world is one of the things that Computer Engineers work on.</p>
    </div>
  </div>


</body>
</html>
